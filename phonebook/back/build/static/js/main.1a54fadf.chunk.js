(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{14:function(e,n,t){e.exports=t(37)},19:function(e,n,t){},37:function(e,n,t){"use strict";t.r(n);var a=t(0),c=t.n(a),o=t(13),r=t.n(o),u=(t(19),t(2)),l=t(3),i=t.n(l),m="/api/persons/",d=function(){return i.a.get(m).then((function(e){return e.data}))},s=function(e){return i.a.post(m,e).then((function(e){return e.data}))},f=function(e){return i.a.delete("".concat(m).concat(e)).then((function(e){return e.data}))},h=function(e,n){return i.a.put("".concat(m).concat(e),n).then((function(e){return e.data}))},b=function(e){return c.a.createElement("ul",null,e.namesToShow)},w=function(e){return c.a.createElement("form",{onSubmit:e.addName},c.a.createElement("div",null,"name: ",c.a.createElement("input",{value:e.newName,onChange:e.handleNameChange})),c.a.createElement("div",null,"number: ",c.a.createElement("input",{value:e.newNumber,onChange:e.handleNumberChange})),c.a.createElement("div",null,c.a.createElement("button",{type:"submit"},"add")))},p=function(e){return c.a.createElement("div",null,c.a.createElement("input",{placeholder:"search",value:e.newSearch,onChange:e.handleSearchChange}))},E=function(e){var n=e.message;return null===n?null:c.a.createElement("div",{className:"notification"},n)},v=function(e){var n=e.error;return null===n?null:c.a.createElement("div",{className:"error"},n)},g=function(){var e=Object(a.useState)([]),n=Object(u.a)(e,2),t=n[0],o=n[1],r=Object(a.useState)(""),l=Object(u.a)(r,2),i=l[0],m=l[1],g=Object(a.useState)(""),C=Object(u.a)(g,2),S=C[0],j=C[1],N=Object(a.useState)(""),O=Object(u.a)(N,2),k=O[0],y=O[1],L=Object(a.useState)(null),T=Object(u.a)(L,2),D=T[0],J=T[1],x=Object(a.useState)(null),A=Object(u.a)(x,2),B=A[0],I=A[1];Object(a.useEffect)((function(){d().then((function(e){o(e)}))}),[]);var M=t.filter((function(e){return e.name.toLowerCase().includes(k.toLowerCase())})).map((function(e){return c.a.createElement("div",{key:e.name},c.a.createElement("p",null,e.name," ",e.number),c.a.createElement("button",{onClick:function(){window.confirm("Are you sure you want to delete ".concat(e.name," "))&&f(e.id).then((function(){o(t.filter((function(n){return n.id!==e.id}))),I("Contact ".concat(e.name," was deleted")),setTimeout((function(){I(null)}),3e3)})).catch((function(n){console.log("Contact ".concat(e.name," was already deleted")),I("Contact ".concat(e.name," was already deleted"))}))}},"delete ",e.name))}));return c.a.createElement("div",null,c.a.createElement("h1",null,"Phonebook"),c.a.createElement(E,{message:D}),c.a.createElement(v,{error:B}),c.a.createElement(p,{newSearch:k,handleSearchChange:function(e){y(e.target.value),console.log(k),console.log(e.target.value)}}),c.a.createElement("h1",null,"add new"),c.a.createElement(w,{addName:function(e){if(t.find((function(e){return e.name.toLowerCase()===i.toLowerCase()})))if(window.confirm("".concat(i," is allready in the phonebook.Replace the old one with a new one ?"))){e.preventDefault();var n=t.find((function(e){return e.name.toLowerCase()===i.toLowerCase()})),a={name:i,number:S};h(n.id,a).then((function(e){o(t.map((function(t){return t.id!==n.id?t:e}))),J("Contact ".concat(e.name," was updated")),setTimeout((function(){J(null)}),3e3)})),m(""),j("")}else e.preventDefault();else e.preventDefault(),s({name:i,number:S}).then((function(e){o(t.concat(e)),m(""),j(""),J("Contact ".concat(e.name," was created")),setTimeout((function(){J(null)}),3e3)})).catch((function(e){I(e.response.data),setTimeout((function(){I(null)}),3e3),console.log(e.response.data)}))},newName:i,handleNameChange:function(e){m(e.target.value)},newNumber:S,handleNumberChange:function(e){j(e.target.value)}}),c.a.createElement("h1",null,"Numbers"),c.a.createElement(b,{namesToShow:M}))};r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(g,null)),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.1a54fadf.chunk.js.map